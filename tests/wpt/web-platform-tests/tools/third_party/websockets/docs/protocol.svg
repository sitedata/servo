<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="832.462" height="1096.462" version="1.1" viewBox="0 0 624.346 822.346"><metadata>Produced by OmniGraffle 6.6.2</metadata><defs><font-face x-height="545.41" ascent="1005.371" cap-height="727.051" descent="-209.961" font-family="Verdana" font-size="12" font-weight="500" panose-1="2 11 6 4 3 5 4 4 2 4" slope="0" underline-position="-87.891" underline-thickness="58.594" units-per-em="1000"><font-face-src><font-face-name name="Verdana"/></font-face-src></font-face><font-face x-height="422.852" ascent="832.52" cap-height="571.289" descent="-300.293" font-family="Courier New" font-size="12" font-weight="500" panose-1="2 7 3 9 2 2 5 2 4 4" slope="0" underline-position="-232.91" underline-thickness="41.016" units-per-em="1000"><font-face-src><font-face-name name="CourierNewPSMT"/></font-face-src></font-face><font-face x-height="443.359" ascent="832.52" cap-height="591.797" descent="-300.293" font-family="Courier New" font-size="12" font-weight="bold" panose-1="2 7 6 9 2 2 5 2 4 4" slope="0" underline-position="-232.91" underline-thickness="100.098" units-per-em="1000"><font-face-src><font-face-name name="CourierNewPS-BoldMT"/></font-face-src></font-face><font-face x-height="422.852" ascent="832.52" cap-height="571.289" descent="-300.293" font-family="Courier New" font-size="10" font-weight="500" panose-1="2 7 3 9 2 2 5 2 4 4" slope="0" underline-position="-232.91" underline-thickness="41.016" units-per-em="1000"><font-face-src><font-face-name name="CourierNewPSMT"/></font-face-src></font-face><marker id="StickArrow_Marker" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="8" orient="auto" overflow="visible" viewBox="-1 -4 8 8"><g><path fill="none" stroke="currentColor" stroke-width="1" d="M 5.8666667 0 L 0 0 M 0 -2.2 L 5.8666667 0 L 0 2.2"/></g></marker><radialGradient id="Gradient" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff"/><stop offset="1" stop-color="#a5a5a5"/></radialGradient><radialGradient id="Obj_Gradient" gradientTransform="translate(311.81102 708.6614) scale(145.75703)" xl:href="#Gradient"/><marker id="StickArrow_Marker_2" color="#000" markerHeight="12" markerUnits="strokeWidth" markerWidth="14" orient="auto" overflow="visible" viewBox="-1 -6 14 12"><g><path fill="none" stroke="currentColor" stroke-width="1" d="M 12 0 L 0 0 M 0 -4.5 L 12 0 L 0 4.5"/></g></marker><marker id="StickArrow_Marker_3" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="8" orient="auto" overflow="visible" viewBox="-1 -4 8 8"><g><path fill="none" stroke="currentColor" stroke-width="1" d="M 5.9253333 0 L 0 0 M 0 -2.222 L 5.9253333 0 L 0 2.222"/></g></marker></defs><g fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>Canvas 1</title><rect width="1314" height="1698" fill="#fff"/><g><title>Layer 1</title><rect width="566.929" height="28.346" x="28.346" y="765.354" fill="#6cf"/><rect width="566.929" height="28.346" x="28.346" y="765.354" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(33.346457 772.02755)"><tspan x="228.508" y="12" font-family="Verdana" font-size="12" font-weight="500" textLength="99.914">remote endpoint</tspan></text><rect width="566.929" height="566.929" x="28.346" y="85.039" fill="#fff"/><rect width="566.929" height="566.929" x="28.346" y="85.039" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(33.346457 90.03937)"><tspan x="243.792" y="12" font-family="Verdana" font-size="12" font-weight="500" textLength="51.334">websock</tspan><tspan x="295.009" y="12" font-family="Verdana" font-size="12" font-weight="500" textLength="18.129">ets</tspan><tspan x="195.651" y="25" font-family="Courier New" font-size="12" font-weight="500" textLength="165.627">WebSocketCommonProtocol</tspan></text><rect width="566.929" height="28.346" x="28.346" y="28.346" fill="#6f6"/><rect width="566.929" height="28.346" x="28.346" y="28.346" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(33.346457 35.019685)"><tspan x="230.005" y="12" font-family="Verdana" font-size="12" font-weight="500" textLength="96.92">application logic</tspan></text><path fill="#fc6" d="M 102.047243 586.77165 L 238.11023 586.77165 C 247.49858 586.77165 255.11811 596.93102 255.11811 609.4488 C 255.11811 621.9666 247.49858 632.12598 238.11023 632.12598 L 102.047243 632.12598 C 92.658897 632.12598 85.03937 621.9666 85.03937 609.4488 C 85.03937 596.93102 92.658897 586.77165 102.047243 586.77165"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M 102.047243 586.77165 L 238.11023 586.77165 C 247.49858 586.77165 255.11811 596.93102 255.11811 609.4488 C 255.11811 621.9666 247.49858 632.12598 238.11023 632.12598 L 102.047243 632.12598 C 92.658897 632.12598 85.03937 621.9666 85.03937 609.4488 C 85.03937 596.93102 92.658897 586.77165 102.047243 586.77165 M 238.11023 586.77165 C 228.72189 586.77165 221.10236 596.93102 221.10236 609.4488 C 221.10236 621.9666 228.72189 632.12598 238.11023 632.12598"/><text fill="#000" transform="translate(125.33071 596.9488)"><tspan x="14.896" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="43.207">reader</tspan><tspan x=".494" y="22" font-family="Courier New" font-size="10" font-weight="500" textLength="72.012">StreamReader</tspan></text><path fill="#fc6" d="M 385.5118 586.77165 L 521.5748 586.77165 C 530.96315 586.77165 538.58267 596.93102 538.58267 609.4488 C 538.58267 621.9666 530.96315 632.12598 521.5748 632.12598 L 385.5118 632.12598 C 376.12346 632.12598 368.50393 621.9666 368.50393 609.4488 C 368.50393 596.93102 376.12346 586.77165 385.5118 586.77165"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M 385.5118 586.77165 L 521.5748 586.77165 C 530.96315 586.77165 538.58267 596.93102 538.58267 609.4488 C 538.58267 621.9666 530.96315 632.12598 521.5748 632.12598 L 385.5118 632.12598 C 376.12346 632.12598 368.50393 621.9666 368.50393 609.4488 C 368.50393 596.93102 376.12346 586.77165 385.5118 586.77165 M 521.5748 586.77165 C 512.18645 586.77165 504.56693 596.93102 504.56693 609.4488 C 504.56693 621.9666 512.18645 632.12598 521.5748 632.12598"/><text fill="#000" transform="translate(408.79527 596.9488)"><tspan x="14.896" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="43.207">writer</tspan><tspan x=".494" y="22" font-family="Courier New" font-size="10" font-weight="500" textLength="72.012">StreamWriter</tspan></text><path fill="#fecc66" d="M 481.88976 419.52756 L 481.88976 374.17323 C 481.88976 371.04378 469.19055 368.50393 453.5433 368.50393 C 437.89606 368.50393 425.19685 371.04378 425.19685 374.17323 L 425.19685 419.52756 C 425.19685 422.657 437.89606 425.19685 453.5433 425.19685 C 469.19055 425.19685 481.88976 422.657 481.88976 419.52756"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" d="M 481.88976 419.52756 L 481.88976 374.17323 C 481.88976 371.04378 469.19055 368.50393 453.5433 368.50393 C 437.89606 368.50393 425.19685 371.04378 425.19685 374.17323 L 425.19685 419.52756 C 425.19685 422.657 437.89606 425.19685 453.5433 425.19685 C 469.19055 425.19685 481.88976 422.657 481.88976 419.52756 M 481.88976 374.17323 C 481.88976 377.30267 469.19055 379.84252 453.5433 379.84252 C 437.89606 379.84252 425.19685 377.30267 425.19685 374.17323"/><text fill="#000" transform="translate(429.19685 387.18504)"><tspan x="6.344" y="10" font-family="Courier New" font-size="12" font-weight="500" textLength="36.006">pings</tspan><tspan x="12.345" y="22" font-family="Courier New" font-size="10" font-weight="500" textLength="24.004">dict</tspan></text><path fill="#dadada" d="M 85.039413 283.46457 L 255.11806 283.46457 C 270.7734 283.46457 283.46457 296.15573 283.46457 311.81107 L 283.46457 481.88972 C 283.46457 497.54506 270.7734 510.23622 255.11806 510.23622 L 85.039413 510.23622 C 69.384074 510.23622 56.692913 497.54506 56.692913 481.88972 L 56.692913 311.81107 C 56.692913 296.15573 69.384074 283.46457 85.039413 283.46457 Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M 85.039413 283.46457 L 255.11806 283.46457 C 270.7734 283.46457 283.46457 296.15573 283.46457 311.81107 L 283.46457 481.88972 C 283.46457 497.54506 270.7734 510.23622 255.11806 510.23622 L 85.039413 510.23622 C 69.384074 510.23622 56.692913 497.54506 56.692913 481.88972 L 56.692913 311.81107 C 56.692913 296.15573 69.384074 283.46457 85.039413 283.46457 Z"/><text fill="#000" transform="translate(61.692913 288.46457)"><tspan x="43.575" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="129.621">transfer_data_task</tspan><tspan x="96.384" y="22" font-family="Courier New" font-size="10" font-weight="500" textLength="24.004">Task</tspan></text><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)" d="M 297.6378 765.35433 L 297.6378 609.4488 L 255.11811 609.4488 L 269.01811 609.4488 L 266.51811 609.4488"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)" d="M 368.50393 609.4488 L 354.60393 609.4488 L 325.98425 609.4488 L 325.98425 753.95433"/><path fill="url(#Obj_Gradient)" d="M 207.03401 712.3154 C 161.22047 708.6614 179.48976 677.90097 252.5726 683.1496 C 259.35307 672.91835 344.33858 674.579 343.783 683.1496 C 397.0715 672.1877 465.17102 694.04553 419.49354 705.00744 C 474.30425 710.32206 418.80189 738.9565 373.8189 734.17322 C 370.2189 742.14584 289.80283 744.9358 282.74457 734.17322 C 237.20882 745.66715 142.25953 727.9946 207.03401 712.3154 Z"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M 207.03401 712.3154 C 161.22047 708.6614 179.48976 677.90097 252.5726 683.1496 C 259.35307 672.91835 344.33858 674.579 343.783 683.1496 C 397.0715 672.1877 465.17102 694.04553 419.49354 705.00744 C 474.30425 710.32206 418.80189 738.9565 373.8189 734.17322 C 370.2189 742.14584 289.80283 744.9358 282.74457 734.17322 C 237.20882 745.66715 142.25953 727.9946 207.03401 712.3154 Z"/><text fill="#000" transform="translate(217.59842 701.1614)"><tspan x="69.814" y="12" font-family="Verdana" font-size="12" font-weight="500" textLength="48.797">network</tspan></text><rect width="170.079" height="28.346" x="85.039" y="453.543" fill="#ff6"/><rect width="170.079" height="28.346" x="85.039" y="453.543" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(90.03937 460.71653)"><tspan x="44.034" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="72.012">read_frame</tspan></text><rect width="170.079" height="28.346" x="85.039" y="396.85" fill="#ff6"/><rect width="170.079" height="28.346" x="85.039" y="396.85" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(90.03937 404.02362)"><tspan x="26.031" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="108.018">read_data_frame</tspan></text><rect width="170.079" height="28.346" x="85.039" y="340.157" fill="#ff6"/><rect width="170.079" height="28.346" x="85.039" y="340.157" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(90.03937 347.3307)"><tspan x="36.832" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="86.414">read_message</tspan></text><text fill="#000" transform="translate(178.07874 490.563)"><tspan x="0" y="8" font-family="Courier New" font-size="10" font-weight="500" textLength="30.005">bytes</tspan></text><text fill="#000" transform="translate(178.07874 433.87008)"><tspan x="0" y="8" font-family="Courier New" font-size="10" font-weight="500" textLength="36.006">frames</tspan></text><text fill="#000" transform="translate(178.07874 371.67716)"><tspan x="0" y="8" font-family="Courier New" font-size="10" font-weight="500" textLength="24.004">data</tspan><tspan x="0" y="19" font-family="Courier New" font-size="10" font-weight="500" textLength="36.006">frames</tspan></text><rect width="170.079" height="28.346" x="368.504" y="510.236" fill="#ff6"/><rect width="170.079" height="28.346" x="368.504" y="510.236" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(373.50393 517.40945)"><tspan x="40.433" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="79.213">write_frame</tspan></text><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)" d="M 85.03937 609.4488 L 71.13937 609.4488 L 56.692913 609.4488 L 56.692913 595.2756 L 56.692913 566.92913 L 113.385826 566.92913 L 170.07874 566.92913 L 170.07874 495.78976 L 170.07874 494.03976"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)" d="M 453.5433 539.33267 L 453.5433 552.48267 L 453.5433 566.92913 L 510.23622 566.92913 L 569.76378 566.92913 L 569.76378 595.2756 L 569.76378 609.4488 L 552.48267 609.4488 L 549.98267 609.4488"/><line x1="170.079" x2="170.079" y1="453.543" y2="437.347" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)"/><line x1="170.079" x2="170.079" y1="396.85" y2="380.654" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)"/><path fill="#fc6" d="M 102.047243 204.09449 L 238.11023 204.09449 C 247.49858 204.09449 255.11811 214.25386 255.11811 226.77165 C 255.11811 239.28945 247.49858 249.44882 238.11023 249.44882 L 102.047243 249.44882 C 92.658897 249.44882 85.03937 239.28945 85.03937 226.77165 C 85.03937 214.25386 92.658897 204.09449 102.047243 204.09449"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M 102.047243 204.09449 L 238.11023 204.09449 C 247.49858 204.09449 255.11811 214.25386 255.11811 226.77165 C 255.11811 239.28945 247.49858 249.44882 238.11023 249.44882 L 102.047243 249.44882 C 92.658897 249.44882 85.03937 239.28945 85.03937 226.77165 C 85.03937 214.25386 92.658897 204.09449 102.047243 204.09449 M 238.11023 204.09449 C 228.72189 204.09449 221.10236 214.25386 221.10236 226.77165 C 221.10236 239.28945 228.72189 249.44882 238.11023 249.44882"/><text fill="#000" transform="translate(132.33071 214.27165)"><tspan x=".195" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="57.609">messages</tspan><tspan x="13.998" y="22" font-family="Courier New" font-size="10" font-weight="500" textLength="30.005">deque</tspan></text><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)" d="M 255.11811 354.3307 L 269.01811 354.3307 L 297.6378 354.3307 L 297.6378 328.8189 L 297.6378 226.77165 L 269.01811 226.77165 L 266.51811 226.77165"/><rect width="170.079" height="28.346" x="85.039" y="141.732" fill="#cf6"/><rect width="170.079" height="28.346" x="85.039" y="141.732" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(90.03937 148.90551)"><tspan x="65.637" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="28.805">recv</tspan></text><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)" d="M 85.03937 226.77165 L 71.13937 226.77165 L 42.519685 226.77165 L 42.519685 209.76378 L 42.519685 155.90551 L 71.13937 155.90551 L 73.63937 155.90551"/><line x1="170.079" x2="170.079" y1="141.732" y2="68.093" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)"/><line x1="453.543" x2="453.543" y1="56.693" y2="130.332" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)"/><line x1="467.717" x2="467.717" y1="56.693" y2="187.875" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" marker-end="url(#StickArrow_Marker_2)"/><line x1="481.89" x2="481.89" y1="56.693" y2="244.568" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" marker-end="url(#StickArrow_Marker_2)"/><line x1="496.063" x2="496.063" y1="56.693" y2="300.323" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker_3)"/><rect width="170.079" height="28.346" x="368.504" y="141.732" fill="#cf6"/><rect width="170.079" height="28.346" x="368.504" y="141.732" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(373.50393 148.90551)"><tspan x="65.637" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="28.805">send</tspan></text><rect width="170.079" height="28.346" x="368.504" y="198.425" fill="#cf6"/><rect width="170.079" height="28.346" x="368.504" y="198.425" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text fill="#000" transform="translate(373.50393 205.59842)"><tspan x="65.637" y="10" font-family="Courier New" font-size="12" font-weight="500" textLength="28.805">ping</tspan></text><rect width="170.079" height="28.346" x="368.504" y="255.118" fill="#cf6"/><rect width="170.079" height="28.346" x="368.504" y="255.118" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><text fill="#000" transform="translate(373.50393 262.29134)"><tspan x="65.637" y="10" font-family="Courier New" font-size="12" font-weight="500" textLength="28.805">pong</tspan></text><rect width="170.079" height="28.346" x="368.504" y="311.811" fill="#cf6"/><rect width="170.079" height="28.346" x="368.504" y="311.811" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><text fill="#000" transform="translate(373.50393 318.98425)"><tspan x="62.036" y="10" font-family="Courier New" font-size="12" font-weight="bold" textLength="36.006">close</tspan></text><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" marker-end="url(#StickArrow_Marker)" d="M 538.58267 155.90551 L 552.48267 155.90551 L 566.92913 155.90551 L 566.92913 481.88976 L 453.5433 481.88976 L 453.5433 496.33622 L 453.5433 498.08622"/><line x1="538.583" x2="566.929" y1="212.598" y2="212.598" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><line x1="538.583" x2="566.929" y1="269.291" y2="269.291" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75"/><line x1="538.583" x2="566.929" y1="325.984" y2="325.984" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M 255.86811 411.02362 L 262.61811 411.02362 L 340.15748 411.02362 L 340.15748 481.88976 L 453.5433 481.88976"/><text fill="#000" transform="translate(291.94527 399.02362)"><tspan x="0" y="8" font-family="Courier New" font-size="10" font-weight="500" textLength="42.007">control</tspan><tspan x="0" y="21" font-family="Courier New" font-size="10" font-weight="500" textLength="36.006">frames</tspan></text><line x1="340.157" x2="414.647" y1="411.024" y2="411.024" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" marker-end="url(#StickArrow_Marker_2)"/><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" d="M 368.50393 212.59842 L 361.75393 212.59842 L 340.15748 212.59842 L 340.15748 340.15748 L 340.15748 382.67716"/><text fill="#000" transform="translate(461.5433 547.2559)"><tspan x="0" y="8" font-family="Courier New" font-size="10" font-weight="500" textLength="30.005">bytes</tspan></text><text fill="#000" transform="translate(461.5433 490.563)"><tspan x="0" y="8" font-family="Courier New" font-size="10" font-weight="500" textLength="36.006">frames</tspan></text><line x1="340.157" x2="414.647" y1="382.677" y2="382.677" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".75" marker-end="url(#StickArrow_Marker_2)"/></g></g></svg>